英名: Flows.md

# UX Flows

主要なユーザーフローをMermaidで表現します。

## セーブUIフロー
```mermaid
flowchart TD
  Start([プレイ中]) -->|Press M| Open[セーブ/ロードUI表示]
  Open -->|Select Slot + Save| Save[save(slotId)] --> Notify[通知表示]
  Open -->|Select Slot + Load| Load[load(slotId)] --> Notify
  Open -->|Delete Slot| Delete[delete(slotId)] --> Notify
  Open -->|Press M| Close([UIを閉じる])
```

## ビルドモードフロー
```mermaid
flowchart TD
  Idle([ビルドOFF]) -->|B| On[ビルドON / ゴースト表示]
  On -->|Mouse Move| Ghost[Raycastで位置更新]
  Ghost -->|Left Click| Place[Block設置→EntityManager+collidables]
  Ghost -->|Right Click| Remove[Block削除フラグ→collidables除去]
  On -->|B| Idle
```

## VR起動フロー
```mermaid
flowchart TD
  PageLoad[ページロード] --> Overlay[クリック開始オーバーレイ]
  Overlay -->|Click| ResumeAudio[AudioContext再開]
  ResumeAudio --> VRButton[VRButtonでセッション開始]
  VRButton --> XRSession[XR Session開始]
  XRSession --> Play[ゲームループ継続]
```

